<div class="height-nonav height-nonav--notab" wt-scroll>
    <dl class="frame frame--posts-add" ng-if=vm.show_add_post>
        <dd class=frame-dd>
            <ng-include src="'/tpl/project/post/add_or_edit_post.html'"></ng-include>
        </dd>
    </dl>
    <dl class="frame frame--posts" wt-minheight=84 ng-if=global.loading_done>
        <dt class=frame-dt>
            <span class="title title--breadcrumb">
                <div class=help-inlineblock>
                    <a ng-href=/project/{{vm.pid}}/post>{{'common.txt_post'|translate}}</a></div>
            </span>
            <div class=pull-right>
                <div class="btn-group btn-group-link">
                    <a href=javascript:; class=dropdown-toggle data-toggle=dropdown>
                        <span>{{ {'create_date':'posts.sort_by_create','last_reply_date':'posts.sort_by_reply'}[vm.posts_filter.sort]|translate }}</span>&nbsp;
                        <i class="fa fa-caret-down"></i></a>
                    <ul class="dropdown-menu pull-right">
                        <li>
                            <a href=javascript:; ng-click="vm.set_sort('create_date')">
                                <i class="{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.sort == 'create_date']}}"></i>{{'posts.sort_by_create'|translate}}</a>
                        </li>
                        <li>
                            <a href=javascript:; ng-click="vm.set_sort('last_reply_date')">
                                <i class="{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.sort == 'last_reply_date']}}"></i>{{'posts.sort_by_reply'|translate}}</a>
                        </li>
                    </ul>
                </div>
            </div>
        </dt>
        <dd class=frame-dd>
            <div class=empty-panel ng-if="vm.part_loading_done && vm.posts != null && vm.posts.length == 0 && !show_add_post_empty">
                <i class="fa fa-list-alt"></i>
                <br>
                <span>{{'posts.warn'|translate}}</span></div>
            <div>
                <div class="post-list mt-sub1">
                    <wt-post-item ng-repeat="post in vm.posts" ng-click="show_post_entity(post.pid, post.post_id, false)"></wt-post-item>
                </div>
                <div class=loading-more-panel>
                    <div class=part-loading ng-hide=vm.part_loading_done></div>
                    <button class=btn ng-if="vm.has_more && vm.part_loading_done" ng-click=vm.js_load_more();>{{'posts.load_more'|translate}}</button></div>
            </div>
        </dd>
    </dl>
</div>
<ui-view></ui-view>